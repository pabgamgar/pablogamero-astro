---
import StageBadge from "@/components/StageBadge.astro";
import type { WorkItem } from "@/content/config";
import type { Render, RenderedContent } from "astro:content";

interface Props {
    project: {
        id: string;
        render(): Render[".md"];
        slug: string;
        body: string;
        collection: "projects" | "proyectos";
        data: WorkItem;
        rendered?: RenderedContent;
        filePath?: string;
    };
    lang: "en" | "es";
}

const { project, lang } = Astro.props;
const { slug, data } = project;
const { name, description } = data;
---

<a
    href={lang === "en" ? `/projects/${slug}` : `/es/proyectos/${slug}`}
    class="group block rounded-3xl
    border border-white/15
    bg-white/[0.03]
    p-6 md:p-8
    hover:border-white/25
    hover:bg-white/[0.05] transition-all duration-300"
>
    <div class="flex items-start justify-between gap-4">
        <h2 class="text-xl font-medium text-white/90">
            {name}
        </h2>
        <StageBadge stage="active" />
    </div>

    <p class="mt-3 max-w-2xl text-sm text-white/65 leading-relaxed">
        {description}
    </p>

    <span
        class="mt-4 inline-block
      text-sm text-white/50
      transition
      group-hover:text-white/70"
    >
        Read more â†’
    </span>
</a>
